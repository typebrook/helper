# settings
alias al='vim ~/.bash_aliases && source ~/.bash_aliases'
alias all='source ~/.bash_aliases'
alias vimrc='vim ~/.vimrc'
alias bashrc='vim ~/.bashrc'
alias tigrc='vim ~/.tigrc'
alias gitconfig='vim ~/.gitconfig'
alias zshrc='vim ~/.zshrc'

# vim
alias v='vim'
alias vv='vim ~/vimwiki/index.wiki'
alias vt='vim ~/vimwiki/taoyuan.wiki'
alias vr='vim -R'
alias cdv='cd ~/.vim_runtime'
alias cdm='cd ~/Music'

# shell
alias ll='ls -alh'
alias ag='sudo apt-get'
alias ai='sudo apt-get install'
alias ac='apt-cache'
alias si='sudo snap install'
alias ss='sudo !!'
alias hg='history|grep'
alias rr='move_to_tmp'
move_to_tmp() {
    mv $1 /tmp
}

# cd to DIRs
alias ..='cd ..'
alias ld='cd -' # last directory
alias cdd='cd ~/Downloads'
alias cdg='cd ~/git'

# about custom settings
alias cds='cd ~/git/settings'
alias chs='cd ~/git/settings && tig status' # check setting changes

# about vimwiki
alias chw='cd ~/vimwiki && tig'
alias ww='cd ~/vimwiki && git add * && git commit -am "update" && git push'

# crontab
alias ce='crontab -e'

# ranger
alias r='_ranger-cd'
alias ranrc='vim ~/.config/ranger/rc.conf'
function _ranger-cd {
    tempfile="$(mktemp -t tmp.XXXXXX)"
    ranger --choosedir="$tempfile" "${@:-$(pwd)}"
    test -f "$tempfile" &&
    if [ "$(cat -- "$tempfile")" != "$(echo -n `pwd`)" ]; then
        cd -- "$(cat "$tempfile")"
    fi
    rm -f -- "$tempfile"
}

# disk
alias df='df -h'

# git
alias g='git'
alias gls='git log -S'
alias gc='git clone'
alias check='git checkout'
alias checkout='git checkout'
alias stash='git stash'
alias commit='git commit'
alias ca='git commit --amend'
alias branch='git branch'
alias pull='git pull'
alias merge='git merge'
alias push='git push'
alias remote='git remote -v'
alias rebase='git rebase'

# docker
alias dp='docker ps'
alias dpa='docker ps -a'
alias di='docker images'
alias dc='docker-compose run --rm'
alias dstop='docker stop'
alias ds='docker stop'
alias drm='docker rm'

# ssh
alias keygen='ssh-keygen -t rsa -C "typebrook@gmail.com"'
alias topo='ssh typebrook@topo.tw'
alias ptt='ssh bbsu@ptt.cc'
alias geothings='ssh geothings@geobingan.info'
alias geothings-test='ssh geothings@test.geothings.tw'

# tig
alias cdt='cd ~/git/tig'
alias t='tig'
alias ta='tig --all'
alias ts='tig status'
alias tl='tig log'
alias ty='tig stash'
alias tigr='tig refs'
alias get-tig='curl -LO https://github.com/typebrook/tig/releases/download/tig-2.4.1/tig'

# Android
alias debug='./gradlew app:installDebug && adb shell am start -n com.geothings.geobingan/.MainActivity_'
alias adb-default='adb shell dumpsys package domain-preferred-apps'
alias adb-list='adb shell dumpsys package d'
alias rmcache='rm -rf ~/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/*'
alias adb-last-screenshot='adb pull /sdcard/Screenshots/`adb shell ls -t /sdcard/Screenshots/ | head -1` ~/Desktop'
alias adb-push='adb push /sdcard/Download/'

# gist
gist_list=~/gist/gist.list
alias gl='nl $gist_list'
alias gll='gist -l > $gist_list && nl $gist_list'
alias gi='_gistRead'
alias gd='_gistDelete'
_gistRead() { 
    gist -r $(awk '{print $1}' $gist_list  | awk -v row="$1" -F '/' 'FNR==row {print $NF}') $2
}
_gistDelete() { 
    deleted=~/gist/deleted/$(date +"%s")
    _gistRead $1 > $deleted && echo "backup at $deleted"
    gist --delete $(awk '{print $1}' $gist_list | awk -v row="$1" -F '/' 'FNR==row {print $NF}') && \
    gll
}
alias note='gist -r 5dd936e91d9ae75ad77084da762f5c11 note > ~/gist/note && \
            vim ~/gist/note && \
            gist -u 5dd936e91d9ae75ad77084da762f5c11 ~/gist/note'
alias todo='gist -r 5dd936e91d9ae75ad77084da762f5c11 todo > ~/gist/todo && \
            vim ~/gist/todo && \
            gist -u 5dd936e91d9ae75ad77084da762f5c11 ~/gist/todo'

# curl
alias co='curl -O'
alias taiwan='curl -O http://download.geofabrik.de/asia/taiwan-latest.osm.pbf'

# misc
alias x='xdg-open'
alias f='free -h'
alias yl='youtube-dl'
alias yla='youtube-dl -x --audio-format mp3'
alias raw='echo "https://raw.githubusercontent.com"'
alias editor='select-editor'
alias hp='http-prompt'
alias clocg='cloc --vcs=git'
alias tma='tmux a'

# tmp
alias cdo='cd ~/git/openmaptiles'
alias cdoo='cd ~/git/openmaptiles/styles/outdoor'
alias cdS='cd ~/git/StreetComplete'
alias and='cd ~/git/geoBingAn.Android'
alias mm='mkvmerge -o out.webm -w 01.webm + 02.webm'

repo='git@github.com'
typebrook='git@github.com:typebrook'
